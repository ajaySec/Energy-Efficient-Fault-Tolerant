onListener(this);
		owner.addActionListener(this);
		enduser.addActionListener(this);
		exit.addActionListener(this);

		file.add(users);
		file.add(owner);
		file.add(enduser);
		file.add(exit);
		mbr.add(file);
		jf.setMenuBar(mbr);

		c.add(l2);
		
		c.add(title);
		b1.setBounds(270, 370, 200, 30);
		c.add(b1);
		jf.setBounds(0, 0, 770,500);
		jf.show();

		int[] ports = new int[] { 2424,4545,7373,3434,9988};
		
		for (int i = 0; i < 5; i++) {
			Thread t2 = new Thread(new PortListener(ports[i]));
			t2.start();
		}
	}

	public static void main(String args[])
	{
//		new CloudServer();
		try {
			UIManager
					.setLookAndFeel("com.sun.java.swing.plaf.windows.WindowsLookAndFeel");
		} catch (Exception e1) {
			e1.printStackTrace();
		}
		java.awt.EventQueue.invokeLater(new Runnable() {
			public void run() {
				new CloudServer();
			}
		});
	}
	public void actionPerformed(ActionEvent e) {
		Object o = e.getSource();
				
		if (o == b1) {
			
			ViewCloudFiles v =new ViewCloudFiles();
			v.setSize(500, 500);
			v.setVisible(true);
		}
		

		if (o == users) {
			
			ViewAttacker v =new ViewAttacker();
			v.setSize(500, 500);
			v.setVisible(true);
		}
		if (o == owner) {
			
			ViewDataOwners v1 =new ViewDataOwners();
			v1.setSize(500, 500);
			v1.setVisible(true);
		}
		
		if (o == enduser) {
			
			ViewEndUser v11 =new ViewEndUser();
			v11.setSize(500, 500);
			v11.setVisible(true);
		}
		
		
		if(o == exit)
		{
			System.exit(0);
		}
	}

	class PortListener implements Runnable {
		
		int port;

		public PortListener(int port) {
			this.port = port;
		}

		public void run() {
			try{
			Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
			Dbcon db=new Dbcon();
			Connection connect=db.getConnection();
			connect =  DriverManager.getConnection("jdbc:odbc:Driver={Microsoft Access Driver (*.mdb)};Dbq=src\\Database.mdb");
			
			 
		 if (this.port == 2424) {
			 
				try {
					ServerSocket sc01, sc02, sc03, sc04, sc11, sc12;
					Socket cn01, cn02, cn03, cn04, cn05, cn1, cn2;
					
					sc02 = new ServerSocket(2424);

						String oname,filename,sk,ct;
						String sp1,sp2,sp3,sp4,sp5;
						String h1,h2,h3,h4,h5;
						String tym;
						
					while (true) {
						cn02 = sc02.accept();
						
						
						Statement stmt = connect.createStatement();
						DataInputStream dis = new DataInputStream(cn02.getInputStream());
						
						oname	= dis.readUTF();
						filename	= dis.readUTF();
						sk		= dis.readUTF();
						ct=dis.readUTF();
					
						sp1 = dis.readUTF();
						sp2 = dis.readUTF();
						sp3 = dis.readUTF();
						sp4 = dis.readUTF();
						sp5 = dis.readUTF();

						
						h1 = dis.readUTF();
						h2 = dis.readUTF();
						h3 = dis.readUTF();
						h4 = dis.readUTF();
						h5 = dis.readUTF();
						tym = dis.readUTF();

						
						 int len = filename.length();
						 String fname = filename.substring(0, len-5);
						
							
						 	Thread.sleep(2000);
							c3 = new ImageIcon(this.getClass().getResource("images/cloud3.jpg"));
							a3.setIcon(c3);
							a3.setVisible(false);
							Thread.sleep(1000);
							a3.setVisible(true);
							Thread.sleep(1000);
							a3.setVisible(false);
							Thread.sleep(1000);
							a3.setVisible(true);
							
							Thread.sleep(2000);
							c2 = new ImageIcon(this.getClass().getResource("images/cloud2.png"));
							a2.setIcon(c2);
							
							Thread.sleep(2000);
							c1 = new ImageIcon(this.getClass().getResource("images/cloud1.png"));
							a1.setIcon(c1);
							a1.setVisible(false);
							Thread.sleep(1000);
							a1.setVisible(true);
							Thread.sleep(1000);
							a1.setVisible(false);
							Thread.sleep(1000);
							a1.setVisibl